if(void 0===window.VueLoader){class e{constructor(){this.callbacks=[],this.isLoading=!1}isVueLoaded(){return void 0!==window.Vue}async loadVue(){return new Promise((e,t)=>{if(this.isVueLoaded())return e();if(this.isLoading)return void this.callbacks.push({resolve:e,reject:t});this.isLoading=!0;const i=document.createElement("script");i.src="https://unpkg.com/vue@latest/dist/vue.global.prod.js",i.onload=()=>{this.isLoading=!1,this.callbacks.forEach(e=>e.resolve()),this.callbacks=[],e()},i.onerror=e=>{this.isLoading=!1,this.callbacks.forEach(t=>t.reject(e)),this.callbacks=[],t(e)},document.head.appendChild(i)})}}window.VueLoader=e}if(void 0===window.AxiosLoader){class e{constructor(){this.callbacks=[],this.isLoading=!1}isAxiosLoaded(){return void 0!==window.axios}async loadAxios(){return new Promise((e,t)=>{if(this.isAxiosLoaded())return e();if(this.isLoading)return void this.callbacks.push({resolve:e,reject:t});this.isLoading=!0;const i=document.createElement("script");i.src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js",i.onload=()=>{this.isLoading=!1,this.callbacks.forEach(e=>e.resolve()),this.callbacks=[],e()},i.onerror=e=>{this.isLoading=!1,this.callbacks.forEach(t=>t.reject(e)),this.callbacks=[],t(e)},document.head.appendChild(i)})}}window.AxiosLoader=e}window.VideoPlayers={instances:{},videoDataMap:{},vueLoader:new window.VueLoader,axiosLoader:new window.AxiosLoader,async init(e=null){try{await this.vueLoader.loadVue(),await this.axiosLoader.loadAxios()}catch(e){return}let t;if(e)if(Array.isArray(e))t=e.reduce((e,t)=>e.concat(Array.from(document.querySelectorAll(t))),[]);else{if("string"!=typeof e)return;t=document.querySelectorAll(e)}else t=document.querySelectorAll(".playerapp");t.forEach((e,t)=>{e.id||(e.id=`inv-player-${t}`)});const i=Array.from(t).map(e=>e.querySelector("inv-video-player")).filter(Boolean),s=i.map(e=>e.getAttribute("reference-id")).filter(Boolean),o=i.map(e=>e.getAttribute("videoid")).filter(Boolean);try{const e=("localhost"===window.location.hostname||window.location.hostname,"https://link-idx.myidx.cloud/api/search/assets/1555966121001/videos");let t="";o.length&&s.length?t=`id:${o.join(",")} OR reference_id:${s.join(",")}`:o.length?t=`id:${o.join(",")}`:s.length&&(t=`reference_id:${s.join(",")}`);const i=await axios.get(e,{params:{q:t}}),r={},n={};(i.data?.videos||[]).forEach(e=>{e.reference_id&&(r[e.reference_id]=e),null!=e.id&&(n[String(e.id)]=e)}),this.videoDataMap=r,this.videoDataMapById=n}catch(e){return}t.forEach((e,t)=>{const i=e.querySelector("inv-video-player");if(!i)return;const s=i.getAttribute("reference-id")||null,o=i.getAttribute("videoid")||null,r={referenceId:s,videoData:o&&this.videoDataMapById?.[o]||s&&this.videoDataMap?.[s]||{},videoId:o,customBackgroundColor:i.getAttribute("custom-background-color")||"black",customIconColor:i.getAttribute("custom-icon-color")||"white",enableCaptionButton:"true"===i.getAttribute(":enable-caption"),enableFullscreenButton:"true"===i.getAttribute(":enable-fullscreen"),enablePlaybackSpeedButton:"true"===i.getAttribute(":enable-playback-speed"),enableVideoQualityButton:"true"===i.getAttribute(":enable-video-quality"),autoplay:"true"===i.getAttribute(":autoplay"),enablePreview:"true"===i.getAttribute(":enable-preview"),roundedBottomBar:i.getAttribute("rounded-bottom-bar")||"0px",enableChapters:"true"===i.getAttribute(":enable-chapters"),chapters:JSON.parse(i.getAttribute(":chapters")||"[]"),backgroundVideo:"true"===i.getAttribute(":background-video"),hideDefaultControls:"true"===i.getAttribute(":hide-default-controls"),vttFile:i.getAttribute("vtt-file"),enableStopButton:"true"===i.getAttribute(":enable-stop")},n=Vue.createApp({data(){return{...r,isPlaying:!1,isMuted:!1,volumeValue:1,seekValue:0,videoDuration:0,currentTime:0,totalWatchTime:0,liveWatchTime:0,watchTimeFormatted:"00:00:00",intervalId:null,showCaptions:!1,isFullScreen:!1,controlsVisible:!0,controlsHideTimeout:!0,controlsTimer:null,hideControlsTimer:null,isBuffering:!1,bufferedPercentage:0,playbackSpeed:1,showSpeedDropdown:!1,availableSpeeds:[.5,1,1.25,1.5,2],showQualityDropdown:!1,availableQualities:[],currentQuality:null,displayQuality:"",showChapterDropdown:!1,showVolumeDropdown:!1,isPipSupported:!1,isPipMode:!1,showShareOptions:!1,showMainDropdown:!1,lastVolume:1,currentChapterIndex:null,socialPlatforms:[{name:"Facebook",icon:"idx-player-icon-facebook",color:"customIconColor",svg:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M20 10.0625C20 4.5375 15.525 0.0625 10 0.0625C4.475 0.0625 0 4.5375 0 10.0625C0 15.0375 3.65 19.1875 8.45 19.9375V12.9625H5.9V10.0625H8.45V7.8375C8.45 5.3625 9.925 3.9875 12.225 3.9875C13.325 3.9875 14.45 4.1625 14.45 4.1625V6.6125H13.2C11.95 6.6125 11.55 7.4125 11.55 8.1875V10.0625H14.35L13.9 12.9625H11.55V19.9375C16.35 19.1875 20 15.0375 20 10.0625Z"></svg>'},{name:"Twitter",icon:"idx-player-icon-x",color:"customIconColor",svg:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.7124 8.59102L18.4133 0.801758H16.8254L11.0071 7.56506L6.35992 0.801758H1L8.02738 11.0291L1 19.1973H2.58799L8.73237 12.055L13.6401 19.1973H19L11.7121 8.59102H11.7124ZM9.53747 11.1192L8.82546 10.1008L3.16017 1.99717H5.59922L10.1712 8.53703L10.8832 9.55544L16.8262 18.0563H14.3871L9.53747 11.1196V11.1192Z"/></svg>'},{name:"LinkedIn",icon:"idx-player-icon-linkedin",color:"customIconColor",svg:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.65 1H2.35C1.6 1 1 1.575 1 2.3V17.7C1 18.425 1.6 19 2.35 19H17.65C18.4 19 19 18.425 19 17.7V2.3C19 1.575 18.4 1 17.65 1ZM3.45 5.05C3.45 4.175 4.15 3.475 5 3.475C5.85 3.475 6.55 4.175 6.55 5.05C6.55 5.875 5.85 6.575 5 6.575C4.15 6.575 3.45 5.875 3.45 5.05ZM3.65 16.35V7.75H6.35V16.35H3.65ZM8.025 16.35V7.75H10.575V8.925H10.625C10.95 8.25 11.85 7.525 13.15 7.525C15.85 7.525 16.35 9.325 16.35 11.65V16.35H13.65V12.15C13.65 11.175 13.65 9.875 12.275 9.875C10.9 9.875 10.675 10.95 10.675 12.075V16.35H8.025Z"/></svg>'},{name:"Instagram",icon:"idx-player-icon-instagram",color:"customIconColor",svg:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 5.375C7.45 5.375 5.375 7.45 5.375 10C5.375 12.55 7.45 14.65 10 14.65C12.55 14.65 14.65 12.55 14.65 10C14.65 7.45 12.55 5.375 10 5.375ZM1 10C1 12.45 1.025 12.75 1.05 13.725C1.075 14.65 1.25 15.35 1.475 15.9C1.7 16.5 2.025 17 2.5 17.5C3.025 17.975 3.5 18.3 4.1 18.525C4.675 18.75 5.35 18.925 6.3 18.95C7.25 18.975 7.55 19 10 19C12.45 19 12.75 18.975 13.725 18.95C14.65 18.925 15.35 18.75 15.9 18.525C16.5 18.3 17 17.975 17.5 17.5C17.975 17 18.3 16.5 18.525 15.9C18.75 15.35 18.925 14.65 18.95 13.725C18.975 12.75 19 12.45 19 10C19 7.55 18.975 7.25 18.95 6.3C18.925 5.35 18.75 4.675 18.525 4.1C18.3 3.5 18 3.025 17.5 2.5C17 2.025 16.5 1.7 15.925 1.475C15.35 1.25 14.675 1.1 13.725 1.05C12.75 1.025 12.45 1 10 1C7.55 1 7.25 1.025 6.3 1.05C5.35 1.075 4.675 1.25 4.1 1.475C3.5 1.7 3.025 2.025 2.5 2.5C2.025 3.025 1.7 3.5 1.475 4.1C1.25 4.675 1.075 5.35 1.05 6.275C1.025 7.25 1 7.55 1 10ZM2.65 10C2.65 7.6 2.65 7.3 2.675 6.35C2.725 5.475 2.85 5 2.975 4.675C3.15 4.25 3.35 3.95 3.65 3.65C3.975 3.35 4.275 3.15 4.7 2.975C5.025 2.85 5.5 2.725 6.35 2.65C7.325 2.65 7.6 2.625 10 2.625C12.4 2.625 12.7 2.65 13.65 2.65C14.525 2.725 15 2.85 15.325 2.975C15.75 3.15 16.05 3.35 16.35 3.65C16.65 3.95 16.85 4.25 17.025 4.675C17.15 5 17.3 5.5 17.35 6.35C17.35 7.325 17.375 7.6 17.375 10C17.375 12.4 17.35 12.675 17.35 13.65C17.3 14.5 17.15 14.975 17.025 15.3C16.85 15.725 16.65 16.025 16.35 16.35C16.05 16.65 15.75 16.85 15.325 17C15 17.125 14.525 17.275 13.65 17.325C12.675 17.35 12.4 17.35 10 17.35C7.6 17.35 7.325 17.35 6.35 17.325C5.5 17.275 5.025 17.125 4.7 17C4.275 16.85 3.975 16.65 3.65 16.35C3.35 16.025 3.15 15.725 2.975 15.3C2.85 14.975 2.725 14.5 2.675 13.65C2.65 12.675 2.65 12.4 2.65 10ZM7 10C7 8.35 8.35 7 10 7C11.65 7 13 8.35 13 10C13 11.65 11.65 13 10 13C8.35 13 7 11.65 7 10ZM13.75 5.2C13.75 5.775 14.225 6.275 14.8 6.275C15.4 6.275 15.9 5.775 15.9 5.2C15.9 4.6 15.4 4.125 14.8 4.125C14.225 4.125 13.75 4.6 13.75 5.2Z"/></svg>'}],dropdownTimer:null,isFocused:!1,isPreviewing:!1,hasStartedPlaying:!1,isMobile:!1,isMobileDevice:!1,showSpeedModal:!1,showQualityModal:!1,showShareModal:!1,showDropdownModal:!1,showUnmuteButton:this.autoplay,hasShownUnmuteButton:this.autoplay,isControlsHidden:!1,getPlayerWidth:767,isMiniControlsActive:!1,isMobiControlVisible:!1,subtitles:[],currentSubtitle:"",isFadingOut:!1,isTransitioning:!1,subtitleInterval:null,isSeeking:!1,chapterMarkers:[],volumeDropdownTimer:null}},beforeUnmount(){screen.orientation&&screen.orientation.removeEventListener("change",this.handleOrientationChange),window.removeEventListener("orientationchange",this.handleOrientationChange),document.removeEventListener("fullscreenchange",this.onFullScreenChange),document.removeEventListener("webkitfullscreenchange",this.onFullScreenChange),document.removeEventListener("mozfullscreenchange",this.onFullScreenChange),document.removeEventListener("msfullscreenchange",this.onFullScreenChange),document.removeEventListener("click",this.handleVideoBlur),document.removeEventListener("click",this.closeDropdownsOnOutsideClick);const e=this.$refs.video;e.removeEventListener("timeupdate",this.updateSeekBar),this.$refs.videoPlay.removeEventListener("input",this.seekVideo),e.removeEventListener("click",this.togglePlayPauseOnClick),e.removeEventListener("loadedmetadata",this.updateVideoDuration),e.removeEventListener("ended",this.onVideoEnded),e.removeEventListener("mouseenter",this.startPreview),e.removeEventListener("mouseleave",this.stopPreview),e.removeEventListener("click",this.handleVideoClick),e.removeEventListener("timeupdate",this.handlePreviewLoop),e.removeEventListener("waiting",this.onBuffering),e.removeEventListener("playing",this.onPlaying),this.intervalId&&clearInterval(this.intervalId),this.$el.removeEventListener("mouseover",this.showControls),this.$el.removeEventListener("mousemove",this.resetControlsTimer),this.$el.removeEventListener("mousemove",this.onMouseMove),this.$el.removeEventListener("mouseleave",this.onMouseLeave),this.controlsTimer&&clearTimeout(this.controlsTimer),this.hideControlsTimer&&clearTimeout(this.hideControlsTimer),window.removeEventListener("resize",this.updateIsMobile),this.$refs.video&&(this.$refs.video.removeEventListener("enterpictureinpicture",this.onEnterPictureInPicture),this.$refs.video.removeEventListener("leavepictureinpicture",this.onExitPictureInPicture))},computed:{playPauseIcon(){return this.isPlaying?"idx-player-icon-pause":"idx-player-icon-play"},formattedCurrentTime(){return this.formatTime(this.currentTime)},formattedDuration(){return this.formatTime(this.videoDuration)},fullscreenIcon(){return this.isFullScreen?"idx-player-icon-exit":"idx-player-icon-fullscreen"},captionIcon(){return this.showCaptions?"idx-player-icon-subtitles-off":"idx-player-icon-subtitles-on"}},methods:{logInfo(e){},logError(e){},jumpToChapter(e,t){const i=this.$refs.video;i&&(i.currentTime=e,i.play()),this.currentChapterIndex=t,setTimeout(()=>{this.showChapterDropdown=!1},150)},updateChapterMarkers(){const e=this.videoDuration;this.chapterMarkers.forEach(t=>{t.position=t.timestamp/e*100;const i=document.querySelector(`.chapter-marker[data-index="${t.index}"]`);i&&(i.style.left=`${t.position}%`)})},handleKeyboardControls(e){if(!this.isFocused)return;const t=this.$refs.video;if(t){if((this.showSpeedDropdown||this.showQualityDropdown||this.showShareOptions)&&("ArrowUp"===e.key||"ArrowDown"===e.key))return;switch(e.key){case" ":this.togglePlayPause(),this.showControls(),this.resetScreenTimer(),e.preventDefault();break;case"s":this.stopVideo(),this.showControls(),this.resetScreenTimer();break;case"ArrowRight":t.currentTime=Math.min(t.duration,t.currentTime+5),this.showControls(),this.resetScreenTimer(),e.preventDefault();break;case"ArrowLeft":t.currentTime=Math.max(0,t.currentTime-5),this.showControls(),this.resetScreenTimer(),e.preventDefault();break;case"ArrowUp":case"ArrowDown":this.showVolumeDropdown=!0,this.adjustVolume("ArrowUp"===e.key?.1:-.1),this.showControls(),this.resetVolumeDropdownTimer(),this.resetScreenTimer(),e.preventDefault();break;case"f":this.toggleFullScreen(),this.showControls(),this.resetScreenTimer();break;case"m":this.toggleMute(),this.showControls(),this.resetScreenTimer();break;case"Tab":this.showControls(),this.resetScreenTimer();break;case"Escape":this.showSpeedDropdown=!1,this.showQualityDropdown=!1,this.showShareOptions=!1}}},adjustVolume(e){const t=this.$refs.video;if(this.$refs.video){const i=Math.min(1,Math.max(0,t.volume+e));t.volume=i,this.volumeValue=i,0===i?(t.muted=!0,this.isMuted=!0):(t.muted=!1,this.isMuted=!1,this.lastVolume=i),this.updateVolumeBar()}},onVolumeSliderChange(e){const t=parseFloat(e.target.value);this.volumeValue=t;const i=this.$refs.video;this.$refs.video&&(i.volume=t,i.muted=0===t,this.isMuted=0===t,this.updateVolumeBar())},updateVolumeBar(){const e=100*this.volumeValue;this.$refs.volumeFill&&(this.$refs.volumeFill.style.width=`${e}%`),this.$refs.volumeSlider&&(this.$refs.volumeSlider.value=this.volumeValue),this.showSpeedDropdown=!1,this.showQualityDropdown=!1,this.showShareOptions=!1,this.isMiniControlsActive=!1},handleDropdownKeyNavigation(e,t){let i;if("speed"===t?i=this.$refs.speedDropdown:"quality"===t?i=this.$refs.qualityDropdown:"share"===t&&(i=this.$refs.shareDropdown),!i)return;const s=i.querySelectorAll("button");let o=Array.from(s).findIndex(e=>e.classList.contains("highlighted"));if("ArrowDown"===e.key){const t=(o+1)%s.length;s[o]?.classList.remove("highlighted"),s[t].classList.add("highlighted"),s[t].focus(),e.preventDefault()}else if("ArrowUp"===e.key){const t=(o-1+s.length)%s.length;s[o]?.classList.remove("highlighted"),s[t].classList.add("highlighted"),s[t].focus(),e.preventDefault()}else"Enter"===e.key&&(s[o]?.click(),e.preventDefault())},formatTimeToHHMMSS(e){("number"!=typeof e||isNaN(e))&&(e=0);const t=Math.floor(e/3600),i=Math.floor(e%3600/60),s=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`},fetchVideoData(){const e=VideoPlayers.videoDataMap[this.referenceId];e&&(this.videoData=e,this.processVideoSources(),this.totalWatchTime=e.watchTime?e.watchTime:0,this.lastRecordedTime=0,this.playSessionTime=0,this.enableChapters&&(this.chapters.length>0?this.chapterMarkers=this.chapters.map((e,t)=>({...e,index:t,position:0})):e.cue_points&&e.cue_points.length>0&&(this.chapterMarkers=e.cue_points.map((e,t)=>({title:e.name||`Chapter ${t+1}`,timestamp:e.time||0,index:t,position:0})))))},processVideoSources(){const e=this.videoData.sources.filter(e=>("H264"===e.codec||"H265"===e.codec)&&e.height&&e.width).reduce((e,t)=>{const i=`${t.height}x${t.width}`;return e[i]||(e[i]=[]),e[i].push(t),e},{});if(this.availableQualities=Object.entries(e).map(([e,t])=>{const[i,s]=e.split("x").map(Number),o=this.getQualityLabel(i),r=t.find(e=>e.src.startsWith("https://")),n=t.find(e=>e.src.startsWith("http://")),l=r||n;return{label:o,height:i,width:s,src:l?.src||""}}).sort((e,t)=>t.height-e.height),this.availableQualities.length>0){const e=this.getQualityBasedOnSpeed();this.setVideoQuality(e)}},getQualityBasedOnSpeed(){let e=navigator.connection?.downlink||null;if(!e)return this.availableQualities[0].label;const t=[{speed:5,label:"480p"},{speed:10,label:"720p"},{speed:20,label:"1080p"},{speed:40,label:"4K"}];for(let i=t.length-1;i>=0;i--)if(e>=t[i].speed){const e=this.availableQualities.find(e=>e.label===t[i].label);if(e)return e.label}return this.availableQualities[this.availableQualities.length-1].label},getQualityLabel:e=>e>=2160?"4K UHD":e>=1440?"1440p QHD":e>=1080?"1080p HD":e>=720?"720p HD":e>=480?"480p":e>=360?"360p":"240p",togglePlayPauseOnClick(){},togglePlayPause(){const e=this.$refs.video;if(this.$refs.video){if(this.backgroundVideo)return;e.paused||e.ended?(e.play(),this.isPlaying=!0,this.hasStartedPlaying=!0):(e.pause(),this.isPlaying=!1),this.updatePlayPauseIcon(),this.showSpeedDropdown=!1,this.showQualityDropdown=!1,this.showShareOptions=!1}},updatePlayPauseIcon(){this.$nextTick(()=>{this.$refs.playPauseIcon&&(this.$refs.playPauseIcon.className=this.isPlaying?"idx-player-icon-pause":"idx-player-icon-play")})},stopVideo(){const e=this.$refs.video;this.$refs.video&&(e.pause(),e.currentTime=0,this.isPlaying=!1,this.seekValue=0,this.currentTime=0,this.updateSeekBar(),this.isBuffering=!1,this.showSpeedDropdown=!1,this.showQualityDropdown=!1,this.showShareOptions=!1,this.showControls())},onVideoEnded(){this.stopVideo()},setPlaybackSpeed(e){this.$refs.video&&(this.playbackSpeed=e,this.$refs.video.playbackRate=e,this.showSpeedDropdown=!1,this.showSpeedModal=!1,this.showQualityModal=!1,this.showShareModal=!1,this.showDropdownModal=!1)},setVideoQuality(e){if(this.$refs.video){const t=this.availableQualities.find(t=>t.label===e);if(t&&t.label!==this.currentQuality){const e=this.$refs.video.currentTime,i=!this.$refs.video.paused;this.currentQuality=t.label,this.displayQuality=t.label,this.$refs.video.src=t.src,this.$refs.video&&this.$refs.video.load(),this.$refs.video.currentTime=e,this.$refs.video&&(this.$refs.video.oncanplay=()=>{i&&this.$refs.video.play(),this.$refs.video.oncanplay=null})}this.showQualityDropdown=!1,this.showSpeedModal=!1,this.showQualityModal=!1,this.showShareModal=!1,this.showDropdownModal=!1}},toggleMainDropdown(){this.showMainDropdown=!this.showMainDropdown;const e=this.$refs.dropdownButton;this.showMainDropdown?e.classList.add("rotate-right"):e.classList.remove("rotate-right"),this.showSpeedDropdown=!1,this.showQualityDropdown=!1,this.showShareOptions=!1},toggleSpeedDropdown(){this.showSpeedDropdown=!this.showSpeedDropdown,this.showQualityDropdown=!1,this.showShareOptions=!1,this.showVolumeDropdown=!1,this.showChapterDropdown=!1,this.showSpeedDropdown&&this.$nextTick(()=>{const e=this.$refs.speedDropdown.querySelectorAll("button");e[0]?.classList.add("highlighted"),e[0]?.focus()})},toggleQualityDropdown(){this.showQualityDropdown=!this.showQualityDropdown,this.showSpeedDropdown=!1,this.showShareOptions=!1,this.showVolumeDropdown=!1,this.showChapterDropdown=!1,this.showQualityDropdown&&this.$nextTick(()=>{const e=this.$refs.qualityDropdown.querySelectorAll("button");e[0]?.classList.add("highlighted"),e[0]?.focus()})},toggleShareOptions(e){e.stopPropagation(),this.showShareOptions=!this.showShareOptions,this.showSpeedDropdown=!1,this.showQualityDropdown=!1,this.showVolumeDropdown=!1,this.showChapterDropdown=!1,this.showShareOptions&&this.$nextTick(()=>{const e=this.$refs.shareDropdown.querySelectorAll("button");e[0]?.classList.add("highlighted"),e[0]?.focus()})},updateSeekBar(){const e=this.$refs.video;if(this.$refs.video){this.seekValue=e.currentTime,this.currentTime=e.currentTime;const t=this.currentTime/this.videoDuration*100,i=e.buffered;let s=0;if(i.length>0){s=i.end(i.length-1)/this.videoDuration*100}this.$refs.playedProgress&&(this.$refs.playedProgress.style.width=`${t}%`),this.$refs.bufferBar&&(this.$refs.bufferBar.style.width=`${s}%`),this.$nextTick(()=>{this.$refs.videoPlay&&(this.$refs.videoPlay.value=this.seekValue)})}},seekVideo(e){this.$refs.video&&(this.$nextTick(()=>{if(this.$refs.videoPlay){const t=e.target.value;this.$refs.video.currentTime=t}}),this.updateSubtitles(),this.showSpeedDropdown=!1,this.showQualityDropdown=!1,this.showShareOptions=!1)},formatTime(e){if(!e||isNaN(e))return"00:00";const t=Math.floor(e/3600),i=Math.floor(e%3600/60),s=Math.floor(e%60);return t>0?`${t.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`:`${i.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`},toggleMute(){if(this.$refs.video){const e=this.$refs.video;if(e.muted){e.muted=!1,this.isMuted=!1;const t=this.lastVolume>0?this.lastVolume:.5;this.volumeValue=t,e.volume=t}else this.lastVolume=this.volumeValue,e.muted=!0,this.isMuted=!0,this.volumeValue=0;this.updateVolumeBar()}},changeVolume(e){if(this.$refs.video){const e=parseFloat(this.volumeValue),t=this.$refs.video;t.volume=e,0===e?(t.muted=!0,this.isMuted=!0):(t.muted=!1,this.isMuted=!1,this.showUnmuteButton=!1,this.hasShownUnmuteButton=!1),this.updateVolumeBar()}},handleVolumeBarClick(e){if(this.$refs.video){const t=this.$refs.volumeBar.getBoundingClientRect();let i=(e.clientX-t.left)/t.width;i=Math.max(0,Math.min(1,i)),this.volumeValue=i,this.$refs.video.volume=i,this.$refs.video.muted=0===i,this.isMuted=0===i,this.updateVolumeBar()}},toggleCC(){this.showCaptions=!this.showCaptions,this.showSpeedDropdown=!1,this.showQualityDropdown=!1,this.showShareOptions=!1},async shareVideo(){const e=window.location.href;if(navigator.share)try{await navigator.share({title:"Check out this video!",url:e})}catch(e){}else prompt("Copy this link to share:",e)},onFullScreenChange(){this.isFullScreen=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement,this.showSpeedDropdown=!1,this.showQualityDropdown=!1,this.showShareOptions=!1,this.isMiniControlsActive=!1,this.isFullScreen?(this.showControls(),this.resetScreenTimer(),setTimeout(()=>{document.querySelectorAll(".controls").forEach(e=>{e.classList.add("isFullScreen")}),document.querySelectorAll(".subtitle-overlay").forEach(e=>{e.classList.remove("below600")}),document.querySelectorAll(".controls .basic-controls").forEach(e=>{e.classList.remove("below600")}),document.querySelectorAll(".controls .mini-controls").forEach(e=>{e.classList.remove("below600")}),this.isMobile||(document.querySelectorAll(".controls .mini-controls").forEach(e=>{e.classList.add("above1024")}),document.querySelectorAll(".controls .progress-bar-control-wrapper").forEach(e=>{e.classList.add("above1024")}),document.querySelectorAll(".controls .basic-controls").forEach(e=>{e.classList.add("above1024")}),document.querySelectorAll(".subtitle-overlay").forEach(e=>{e.classList.add("above1024")}))},10)):(this.showControls(),this.controlsTimer&&clearTimeout(this.controlsTimer),setTimeout(()=>{document.querySelectorAll(".controls").forEach(e=>{e.classList.remove("isFullScreen")}),document.querySelectorAll(".subtitle-overlay").forEach(e=>{const t=e.closest("inv-video-player");t&&t.getBoundingClientRect().width<600&&(e.classList.remove("above1024"),e.classList.add("below600"))}),document.querySelectorAll(".basic-controls").forEach(e=>{const t=e.closest("inv-video-player");t&&t.getBoundingClientRect().width<600?(e.classList.remove("above1024"),e.classList.add("below600")):t&&t.getBoundingClientRect().width<991?(e.classList.remove("above1024"),e.classList.remove("below600")):(e.classList.add("above1024"),e.classList.remove("below600"))}),document.querySelectorAll(".controls .mini-controls").forEach(e=>{const t=e.closest("inv-video-player");t&&t.getBoundingClientRect().width<991&&e.classList.remove("above1024")}),document.querySelectorAll(".controls .progress-bar-control-wrapper").forEach(e=>{const t=e.closest("inv-video-player");t&&t.getBoundingClientRect().width<991&&e.classList.remove("above1024")})},10))},updateFullScreenState(){this.isFullScreen=!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement),this.isFullScreen?this.resetScreenTimer():(this.showControls(),this.controlsTimer&&clearTimeout(this.controlsTimer))},closeDropdownsOnOutsideClick(e){this.$el.contains(e.target)||(this.showSpeedDropdown=!1,this.showQualityDropdown=!1,this.showShareOptions=!1,this.resetScreenTimer())},handleVideoFocus(e){e.stopPropagation(),window.currentFocusedVideo&&window.currentFocusedVideo!==this&&(window.currentFocusedVideo.isFocused=!1,document.removeEventListener("keydown",window.currentFocusedVideo.handleKeyboardControls)),this.isFocused=!0,window.currentFocusedVideo=this,document.addEventListener("keydown",this.handleKeyboardControls),this.showControls(),this.resetScreenTimer()},handleVideoBlur(e){this.$el.contains(e.target)||(this.isFocused=!1,document.removeEventListener("keydown",this.handleKeyboardControls),window.currentFocusedVideo=null)},showControls(){this.controlsVisible=!0,this.isControlsHidden=!1,this.hideControlsTimer&&clearTimeout(this.hideControlsTimer),this.$nextTick(()=>{this.$refs.controls&&(this.$refs.controls.style.transition="transform 1s ease-in-out, opacity 1s ease-in-out",this.isMobile&&this.isFullScreen?this.$refs.controls.style.transform="translateY(-55%)":this.$refs.controls.style.transform="translateY(0%)",this.$refs.controls.style.opacity="1",this.$refs.captions.style.transition="transform 1s ease-in-out",this.$refs.captions.style.transform="translateY(-20%)"),this.$el.querySelector(".idx-player__pip-button").style.opacity="1",this.$el.querySelector(".idx-player__pip-button").style.pointerEvents="auto"}),this.resetControlsTimer()},hideControls(){if(this.$refs.video){if(this.$refs.video.paused)return;this.showQualityDropdown||this.showShareOptions||this.showSpeedDropdown||!this.isPlaying||this.isMiniControlsActive||this.showVolumeDropdown||this.showChapterDropdown||(this.controlsVisible=!0,this.isControlsHidden=!0,this.$nextTick(()=>{this.$refs.controls&&(this.$refs.controls.style.transition="transform 1s ease-in-out, opacity 1s ease-in-out",this.$refs.controls.style.transform="translateY(100%)",this.$refs.controls.style.opacity="0",this.$refs.captions.style.transition="transform 1s ease-in-out",this.isMobile?this.$refs.captions.style.transform="translateY(60%)":this.$refs.captions.style.transform="translateY(0%)"),this.$el.querySelector(".idx-player__pip-button")&&(this.$el.querySelector(".idx-player__pip-button").style.opacity="0",this.$el.querySelector(".idx-player__pip-button").style.pointerEvents="none")}))}},resetControlsTimer(){this.controlsTimer&&clearTimeout(this.controlsTimer),this.controlsTimer=setTimeout(()=>{this.$el.matches(":hover")||this.hideControls()},3e3)},resetScreenTimer(){this.controlsHideTimeout&&clearTimeout(this.controlsHideTimeout),this.showQualityDropdown||this.showShareOptions||this.showSpeedDropdown||(this.controlsHideTimeout=setTimeout(()=>{this.hideControls(),this.$el.style.cursor="none"},3e3))},onMouseMove(){this.showControls(),this.$el.style.cursor="default",this.resetScreenTimer()},onMouseLeave(){this.hideControlsTimer&&clearTimeout(this.hideControlsTimer),this.hideControlsTimer=setTimeout(()=>{this.isFullScreen||this.hideControls()},2e3),this.$el.querySelector(".idx-player__pip-button").style.opacity="0",this.$el.querySelector(".idx-player__pip-button").style.pointerEvents="none"},updateVideoDuration(){if(this.$refs.video){const e=this.$refs.video;this.videoDuration=e.duration}},onBuffering(){this.isBuffering=!0},onPlaying(){this.$refs.video&&(this.isBuffering=!1,this.isPlaying&&(this.lastRecordedTime=this.$refs.video.currentTime))},togglePictureInPicture(){if(this.$refs.video){const e=this.$refs.video;document.pictureInPictureElement?document.exitPictureInPicture().catch(e=>{}):document.pictureInPictureEnabled&&(this.showCaptions&&this.toggleCC(),e.requestPictureInPicture().catch(e=>{}))}},onVideoPlay(){this.$refs.video&&(this.isPlaying=!0,this.subtitleInterval||(this.subtitleInterval=setInterval(this.updateSubtitles,100)),this.lastRecordedTime=this.$refs.video.currentTime)},onVideoPause(){if(this.$refs.video){this.isPlaying=!1,this.subtitleInterval&&(clearInterval(this.subtitleInterval),this.subtitleInterval=null);const e=this.$refs.video.currentTime-this.lastRecordedTime;e>0&&(this.totalWatchTime+=e,this.playSessionTime=e)}},onVideoEnded(){this.isPlaying=!1,this.stopVideo()},shareVideo(e){const t=window.location.href;let i;try{switch(e){case"Facebook":i=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t)}`;break;case"Twitter":const e=this.videoData?.name;i=`https://twitter.com/intent/tweet?url=${encodeURIComponent(t)}&text=${encodeURIComponent(e)}`;break;case"LinkedIn":i=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(t)}`;break;case"Instagram":i=`https://www.instagram.com/?igshid=${encodeURIComponent(t)}`;break;case"CopyLink":navigator.clipboard.writeText(t).then(()=>{this.logInfo("URL copied to clipboard."),this.showToast("Link copied to clipboard!")}).catch(e=>{this.errorMessage="Unable to copy the link. Please try again."});break;default:i=t}i&&window.open(i,"_blank"),this.showShareOptions=!1,this.showSpeedModal=!1,this.showQualityModal=!1,this.showShareModal=!1,this.showDropdownModal=!1,this.logInfo(`Shared video to ${e}`)}catch(e){this.errorMessage="An error occurred while trying to share the video. Please try again."}},startPreview(){if(this.$refs.video&&this.enablePreview&&!this.isPlaying&&!this.hasStartedPlaying){const e=this.$refs.video;e.currentTime=0,e.muted=!0,this.isPreviewing=!0,e.play(),e.addEventListener("timeupdate",this.handlePreviewLoop),this.controlsVisible=!1}},stopPreview(){if(this.$refs.video&&this.isPreviewing){const e=this.$refs.video;e.pause(),this.isPreviewing=!1,e.currentTime=0,e.muted=!1,this.isMuted=!1,this.updateVolumeBar(),e.removeEventListener("timeupdate",this.handlePreviewLoop),this.controlsVisible=!0}},handlePreviewLoop(){if(this.$refs.video){const e=this.$refs.video;e.currentTime>=5&&(e.currentTime=0)}},handleVideoClick(e){this.isPreviewing&&(this.stopPreview(),this.togglePlayPause()),this.hasStartedPlaying=!0},updateIsMobile(){const e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement,t=document.body.classList.contains("force-mobile"),i=(this.$el.parentElement||this.$el).offsetWidth;this.isMobile=!e&&(i<600||t)},showToast(e){const t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.body;let i=t.querySelector("#toast-container");i||(i=document.createElement("div"),i.id="toast-container",i.classList.add("idx-player__toast-container"),t.appendChild(i));let s=i.querySelector(".idx-player__toast-message");s?(s.textContent=e,s.classList.remove("toast-show"),setTimeout(()=>{s.classList.add("toast-show")},10)):(s=document.createElement("div"),s.className="idx-player__toast-message",s.textContent=e,i.appendChild(s),requestAnimationFrame(()=>{s.classList.add("toast-show")})),setTimeout(()=>{s.classList.remove("toast-show"),setTimeout(()=>{s&&s.parentElement&&i.removeChild(s),i.children.length||i.remove()},300)},3e3)},handleFullscreenChange(){const e=document.getElementById("toast-container");if(e){const t=getFullscreenElement();t.contains(e)||t.appendChild(e)}},async handleFullscreenChange(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?await this.setFullscreenOrientation():screen.orientation&&screen.orientation.unlock&&await screen.orientation.unlock()},async setFullscreenOrientation(){if(this.$refs.video){const e=this.$refs.video;if(!e)return;const t=e.videoWidth>e.videoHeight;try{screen.orientation&&screen.orientation.lock&&await screen.orientation.lock(t?"landscape":"portrait")}catch(e){}}},handleOrientationChange(){this.updateVideoOrientation()},updateVideoOrientation(){if(this.$refs.video){const e=this.$refs.video;if(!e)return;window.innerWidth>window.innerHeight?(e.classList.add("landscape"),e.classList.remove("portrait")):(e.classList.add("portrait"),e.classList.remove("landscape"))}},async toggleFullScreen(){if(this.$refs.video){const e=this.$refs.video,t=this.$el;if(!e)return;if(this.isPipMode&&document.pictureInPictureElement)try{await document.exitPictureInPicture(),this.isPipMode=!1}catch(e){return}/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?e.webkitEnterFullscreen&&e.webkitEnterFullscreen():document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?document.exitFullscreen?await document.exitFullscreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.mozCancelFullScreen?await document.mozCancelFullScreen():document.msExitFullscreen&&await document.msExitFullscreen():t.requestFullscreen?await t.requestFullscreen():t.webkitRequestFullscreen?await t.webkitRequestFullscreen():t.mozRequestFullScreen?await t.mozRequestFullScreen():t.msRequestFullscreen&&await t.msRequestFullscreen()}},toggleDropdownModal(){this.showDropdownModal=!this.showDropdownModal},openSubModal(e){this.showDropdownModal=!1,"speed"===e&&(this.showSpeedModal=!0),"quality"===e&&(this.showQualityModal=!0),"share"===e&&(this.showShareModal=!0)},closeAllModals(){this.showDropdownModal=!1,this.showSpeedModal=!1,this.showQualityModal=!1,this.showShareModal=!1},handleContextMenu(e){e.preventDefault()},onEnterPictureInPicture(){this.isPipMode=!0;const e=this.$el.querySelector(".idx-player__pip-button");e&&e.classList.add("hidden"),this.showSpeedDropdown=!1,this.showQualityDropdown=!1,this.showShareOptions=!1},onExitPictureInPicture(){this.isPipMode=!1;const e=this.$el.querySelector(".idx-player__pip-button");e&&e.classList.remove("hidden"),this.showSpeedDropdown=!1,this.showQualityDropdown=!1,this.showShareOptions=!1},async fetchAndParseSubtitles(){if(!1!==this.enableCaptionButton){if(!this.vttFile&&this.videoData?.text_tracks?.length>0){const e=this.videoData.text_tracks.find(e=>"captions"===e.kind);if(e){const t=e.sources?.find(e=>e.src?.startsWith("https://"));this.vttFile=t?.src||e.src}}if(this.vttFile)try{const e=await fetch(this.vttFile),t=await e.text();this.subtitles=this.parseVTT(t)}catch(e){}}},parseVTT(e){const t=[],i=e.split("\n");let s={};return i.forEach(e=>{if(e.includes("--\x3e")){const[t,i]=e.split(" --\x3e ");s.start=this.parseTime(t),s.end=this.parseTime(i)}else""===e.trim()?(s.text&&t.push({...s}),s={}):s.text=(s.text||"")+e+"\n"}),t},parseTime(e){const t=e.split(":").map(parseFloat);if(3===t.length){const[e,i,s]=t;return 3600*e+60*i+s}if(2===t.length){const[e,i]=t;return 60*e+i}return 0},updateSubtitles(){if(this.$refs.video){if(!this.isPlaying&&!this.isSeeking)return;const e=this.$refs.video.currentTime,t=this.subtitles.find(t=>e>=t.start&&e<=t.end);t?(this.currentSubtitle=t.text,this.isFadingOut=!1,this.isTransitioning=!1):(this.currentSubtitle="",this.isFadingOut=!1,this.isTransitioning=!1)}},getWordStyle:e=>({animationDelay:.1*e+"s"}),toggleChapterDropdown(){this.showChapterDropdown=!this.showChapterDropdown,this.showQualityDropdown=!1,this.showSpeedDropdown=!1,this.showShareOptions=!1,this.showVolumeDropdown=!1,this.showChapterDropdown&&(this.adjustChapterDropdownPosition(),this.$nextTick(()=>{const e=this.$refs.shareDropdown.querySelectorAll("button");e[0]?.classList.add("highlighted"),e[0]?.focus()}))},toggleVolumeDropdown(){this.showVolumeDropdown=!this.showVolumeDropdown,this.showQualityDropdown=!1,this.showSpeedDropdown=!1,this.showShareOptions=!1,this.showChapterDropdown=!1},adjustChapterDropdownPosition(){this.$nextTick(()=>{const e=this.$refs.chapterDropdown,t=e?.parentElement;if(!e||!t)return;const i=e.offsetWidth,s=t.offsetWidth+(i<=325?0:10),o=(i/2-s/2)/s*100;e.style.right=`-${o}%`})},resetVolumeDropdownTimer(){this.volumeDropdownTimer&&clearTimeout(this.volumeDropdownTimer),this.volumeDropdownTimer=setTimeout(()=>{this.showVolumeDropdown=!1},3e3)},formatVerboseTime(e){const t=Math.floor(e/3600),i=Math.floor(e%3600/60),s=Math.floor(e%60),o=[];return t>0&&o.push(`${t} hour${t>1?"s":""}`),i>0&&o.push(`${i} minute${i>1?"s":""}`),(s>0||0===o.length)&&o.push(`${s} second${1!==s?"s":""}`),o.join(" ")},focusFirstChapterOption(){this.showChapterDropdown?this.showChapterDropdown=!1:(this.showChapterDropdown=!0,this.$nextTick(()=>{setTimeout(()=>{const e=this.$refs.chapterDropdown?.querySelector("button");e&&(e.focus(),e.classList.add("highlighted"))},50)}))}},mounted(){this.isMobileDevice=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.updateIsMobile(),window.addEventListener("resize",this.updateIsMobile),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach(e=>document.addEventListener(e,this.updateIsMobile)),this.$nextTick(()=>{if(this.$refs.video){if(this.$refs.video=this.$el.querySelector("video"),this.$refs.videoPlay=this.$el.querySelector(".video-play"),this.$refs.controls=this.$el.querySelector(".controls"),!this.$refs.video)return;this.$refs.video&&(this.$refs.video.addEventListener("enterpictureinpicture",this.onEnterPictureInPicture),this.$refs.video.addEventListener("leavepictureinpicture",this.onExitPictureInPicture)),this.fetchVideoData();const e=this.$refs.video;e.playbackRate=this.playbackSpeed,screen.orientation&&screen.orientation.addEventListener("change",this.handleOrientationChange),window.addEventListener("orientationchange",this.handleOrientationChange),this.updateVideoOrientation(),document.addEventListener("fullscreenchange",this.onFullScreenChange),document.addEventListener("webkitfullscreenchange",this.onFullScreenChange),document.addEventListener("mozfullscreenchange",this.onFullScreenChange),document.addEventListener("msfullscreenchange",this.onFullScreenChange),document.addEventListener("click",this.closeDropdownsOnOutsideClick),this.$el.addEventListener("click",this.handleVideoFocus),document.addEventListener("click",this.handleVideoBlur),e.addEventListener("loadedmetadata",()=>{this.updateVideoDuration(),this.updateSeekBar(),this.updateChapterMarkers()}),e.addEventListener("timeupdate",this.updateSeekBar),e.addEventListener("click",this.togglePlayPauseOnClick),this.$refs.videoPlay.addEventListener("input",this.seekVideo),e.addEventListener("ended",this.onVideoEnded),e.addEventListener("play",this.onVideoPlay),e.addEventListener("pause",this.onVideoPause),e.addEventListener("ended",this.onVideoPause),e.addEventListener("waiting",this.onBuffering),e.addEventListener("playing",this.onPlaying),this.autoplay&&(this.$nextTick(()=>{const e=this.$refs.video;e.muted=this.autoplay,this.showUnmuteButton=!0,this.autoplay&&e.play().catch(e=>{})}),e.load()),this.$el.addEventListener("mouseover",this.showControls),this.$el.addEventListener("mousemove",this.resetControlsTimer),this.$el.addEventListener("mousemove",this.onMouseMove),this.$el.addEventListener("mouseleave",this.onMouseLeave),e.addEventListener("mouseenter",this.startPreview),e.addEventListener("mouseleave",this.stopPreview),e.addEventListener("click",this.handleVideoClick),this.updateIsMobile(),window.addEventListener("resize",this.updateIsMobile),document.addEventListener("click",e=>{this.$el.contains(e.target)||this.closeAllModals()}),this.backgroundVideo&&(e.muted=!0,e.loop=!0,e.addEventListener("loadedmetadata",()=>{(e.paused||e.ended)&&(e.load(),e.play().catch(e=>{}))}),e.load(),e.addEventListener("loadedmetadata",()=>{this.updateVolumeBar()}),this.controlsVisible=!1),this.autoplay||this.backgroundVideo?(e.muted=!0,this.isMuted=!0,this.volumeValue=0):(e.volume=1,this.isMuted=!1,this.volumeValue=1,e.addEventListener("loadedmetadata",this.updateVolumeBar)),this.updateVolumeBar(),this.isPipSupported="pictureInPictureEnabled"in document;this.$el.querySelector(".playpausebtn"),this.$el.querySelector(".stopbtn"),this.$el.querySelector(".fullscreen-button");this.fetchAndParseSubtitles(),this.$refs.video&&this.$refs.video.addEventListener("timeupdate",this.updateSubtitles),e.addEventListener("seeked",()=>{this.isSeeking=!1,this.updateSubtitles()}),e.addEventListener("seeking",()=>{this.isSeeking=!0});navigator.userAgent.toLowerCase().includes("macintosh")&&(this.$el.style.zIndex="1")}})},template:'<div class="idx-player" :class="{ \'full-screen\': isFullScreen,\'idx-player--background\': backgroundVideo,\'is-mobile\': isMobile }" :class="{\'idx-player--background\' : backgroundVideo }" @mousemove="onMouseMove"><div class="idx-player__loader" v-if="isBuffering"><div class="spinner"></div></div><button class="idx-player__pip-button" @click="togglePictureInPicture" v-show="isPipSupported && !backgroundVideo && !isPreviewing && !isPipMode" aria-label="Toggle Picture-in-Picture Mode"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pip" viewBox="0 0 16 16"><path d="M0 3.5A1.5 1.5 0 0 1 1.5 2h13A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5zM1.5 3a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5z"/><path d="M8 8.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5z"/></svg></button><div class="idx-player__display"><video ref="video" v-if="$refs" preload="metadata" class="video" :poster="videoData.poster" playsinline webkit-playsinline disableRemotePlayback @click="togglePlayPause" @contextmenu.prevent="handleContextMenu($event)"><source v-for="source in videoData.sources" :key="source.src" :src="source.src" :type="source.type" /> Your browser does not support the video tag. </video><div ref="captions" class="idx-player__captions-wrapper" v-show="showCaptions && currentSubtitle"><span key="currentSubtitle" class="idx-player__caption-sentence"><span v-for="(word, index) in currentSubtitle.split(\' \')" :key="index" class="idx-player__caption-word" :style="getWordStyle(index)">{{ word }}</span></span></div></div><div ref="controls" class="idx-player__controls-wrapper controls" v-show="!isPreviewing && controlsVisible && !backgroundVideo && !hideDefaultControls"><div class="idx-player__seekbar"><div class="idx-player__current-position" ref="playedProgress"></div><input id="idx-player__video-progress-bar" class="idx-player__seek-video video-play no-thumb" type="range" @input="seekVideo" v-model="seekValue" :max="videoDuration" ref="videoPlay" aria-label="Video progress bar" role="slider" :aria-valuemin="0" :aria-valuemax="videoDuration" :aria-valuenow="seekValue" :aria-valuetext="formatVerboseTime(seekValue) + \' of \' + formatVerboseTime(videoDuration)" /><div class="idx-player__cue-point-list"><span class="idx-player__cue-point" v-for="(marker, index) in chapterMarkers" :key="index" :style="{ left: marker.position + \'%\'}" @click="jumpToChapter(marker.timestamp)"></span></div></div><div class="idx-player__control-list" :class="{ \'smaller__player\': isMobile }"><div class="idx-player__left-controls"><div class="idx-player__control"><button class="idx-player__play-toggle" @click="togglePlayPause" :title="isPlaying ? \'Pause\' : \'Play\'" :aria-label="isPlaying ? \'Pause Video\' : \'Play Video\'"><svg v-if="!isPlaying" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M4.06667 13.5083C4.05556 13.5194 4.04444 13.525 4.03333 13.525C4.03333 13.5139 4.02778 13.5083 4.01667 13.5083C4.00556 13.4972 4 13.4861 4 13.475V2.04167C4 2.03056 4.00556 2.025 4.01667 2.025C4.02778 2.01389 4.03333 2.00833 4.03333 2.00833C4.04444 1.99722 4.05556 1.99722 4.06667 2.00833L13.9167 7.725C13.9278 7.73611 13.9333 7.74722 13.9333 7.75833C13.9333 7.75833 13.9333 7.76389 13.9333 7.775C13.9333 7.775 13.9278 7.78056 13.9167 7.79167L4.06667 13.5083Z"/></svg><svg v-if="isPlaying" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M8.86667 12.5833C8.85556 12.5833 8.84444 12.5833 8.83333 12.5833C8.83333 12.5722 8.83333 12.5611 8.83333 12.55V3.28333C8.83333 3.27222 8.83333 3.26667 8.83333 3.26667C8.84444 3.25556 8.85556 3.25 8.86667 3.25H12.8C12.8111 3.25 12.8167 3.25556 12.8167 3.26667C12.8278 3.26667 12.8333 3.27222 12.8333 3.28333V12.55C12.8333 12.5611 12.8278 12.5722 12.8167 12.5833C12.8167 12.5833 12.8111 12.5833 12.8 12.5833H8.86667ZM3.53333 12.5833C3.52222 12.5833 3.51111 12.5833 3.5 12.5833C3.5 12.5722 3.5 12.5611 3.5 12.55V3.28333C3.5 3.27222 3.5 3.26667 3.5 3.26667C3.51111 3.25556 3.52222 3.25 3.53333 3.25H7.46667C7.47778 3.25 7.48333 3.25556 7.48333 3.26667C7.49444 3.26667 7.5 3.27222 7.5 3.28333V12.55C7.5 12.5611 7.49444 12.5722 7.48333 12.5833C7.48333 12.5833 7.47778 12.5833 7.46667 12.5833H3.53333Z"/></svg></button></div><div class="idx-player__control" v-if="enableStopButton" ><button class="idx-player__stop" @click="stopVideo" aria-label="Stop Video"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M3.25 12.58V3.25H12.58V12.58H3.25Z"/></svg></button></div><div class="idx-player__control idx-player__control--volumn"><button class="idx-player__volumn-toggle" @click="toggleMute" :title="isMuted ? \'Unmute\' : \'Mute\'" :aria-label="isMuted ? \'Unmute\' : \'Mute\'"><svg v-if="!isMuted" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M8.55604 2.29239C8.85051 2.42621 9.06458 2.74738 9.06458 3.06856V13.3461C9.06458 13.694 8.85051 13.9884 8.55604 14.149C8.23492 14.2828 7.88694 14.2293 7.61934 13.9884L4.00613 10.7767H2.21292C1.24941 10.7767 0.5 10.0273 0.5 9.06377V7.35085C0.5 6.4141 1.24941 5.63793 2.21292 5.63793H4.00613L7.61934 2.45298C7.88694 2.2121 8.23492 2.15857 8.55604 2.29239ZM13.1595 4.21942C14.3104 5.18294 15.0598 6.60145 15.0598 8.20731C15.0598 9.83991 14.3104 11.2584 13.1595 12.1952C12.8651 12.4361 12.4636 12.3826 12.2495 12.1149C12.0087 11.8472 12.0622 11.4458 12.3299 11.2049C13.213 10.509 13.7751 9.43848 13.7751 8.20731C13.7751 7.00291 13.213 5.93234 12.3299 5.23647C12.0622 4.99559 12.0354 4.59413 12.2495 4.32648C12.4636 4.05884 12.8651 4.00531 13.1595 4.21942ZM11.5269 6.22675C12.1157 6.70851 12.4904 7.40438 12.4904 8.20731C12.4904 9.03697 12.1157 9.73287 11.5269 10.2146C11.2592 10.4288 10.8578 10.402 10.6169 10.1076C10.4028 9.83991 10.4563 9.43848 10.724 9.22432C11.0184 8.98345 11.2057 8.60877 11.2057 8.20731C11.2057 7.80585 11.0184 7.4579 10.724 7.21703C10.4563 7.00292 10.4028 6.60145 10.6169 6.30704C10.8578 6.03939 11.2592 6.01264 11.5269 6.22675Z"/></svg><svg v-if="isMuted" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M8.45887 2.29239C8.75334 2.42621 8.96742 2.74738 8.96742 3.06856V13.3461C8.96742 13.694 8.75334 13.9884 8.45887 14.149C8.13776 14.2828 7.78978 14.2293 7.52214 13.9884L3.90896 10.7767H2.11575C1.15223 10.7767 0.402832 10.0273 0.402832 9.06377V7.35085C0.402832 6.4141 1.15223 5.63793 2.11575 5.63793H3.90896L7.52214 2.45298C7.78978 2.2121 8.13776 2.15857 8.45887 2.29239ZM11.7777 5.82528L13.2497 7.29732L14.7218 5.82528C14.9626 5.58441 15.3641 5.58441 15.605 5.82528C15.8726 6.09293 15.8726 6.49439 15.605 6.73527L14.133 8.20731L15.605 9.67935C15.8726 9.94702 15.8726 10.3485 15.605 10.5893C15.3641 10.857 14.9626 10.857 14.7218 10.5893L13.2497 9.11729L11.7777 10.5893C11.51 10.857 11.1086 10.857 10.8677 10.5893C10.6 10.3485 10.6 9.94702 10.8677 9.67935L12.3397 8.20731L10.8677 6.73527C10.6 6.49439 10.6 6.09293 10.8677 5.82528C11.1086 5.58441 11.51 5.58441 11.7777 5.82528Z"/></svg></button><div class="idx-player__volumn-wrapper" ref="volumeDropdown" @keydown="handleDropdownKeyNavigation($event, \'volume\')"><div class="idx-player__volumn-bar" ref="volumeBar" @click="handleVolumeBarClick"><div class="idx-player__volumn-status" ref="volumeFill"></div><input class="idx-player__volumn-range" type="range" min="0" max="1" step="0.01" ref="volumeSlider" :value="volumeValue" @input="onVolumeSliderChange" aria-label="Volume Control" :aria-valuenow="volumeValue" :aria-valuemin="0" :aria-valuemax="1" :aria-valuetext="\'volume value\'+Math.round(volumeValue * 100) + \'%\'" role="slider" @focus="resetVolumeDropdownTimer" @blur="resetVolumeDropdownTimer" /></div></div></div><div class="idx-player__time" tabindex="0" :aria-label="formatVerboseTime(currentTime) + \' of \' + formatVerboseTime(videoDuration)" ><span class="timer-start" aria-hidden="true">{{ formattedCurrentTime }}</span><span class="timer-divider" aria-hidden="true">&nbsp;&nbsp;/&nbsp;&nbsp;</span><span class="timer-end" aria-hidden="true">{{ formattedDuration }}</span></div></div><div class="idx-player__right-controls"><div class="idx-player__control" v-if="enableVideoQualityButton && availableQualities.length > 0" v-show="!isMobile"><button @click="toggleQualityDropdown" :aria-expanded="showQualityDropdown" :aria-label="\'Video Quality currently\' + displayQuality">{{ displayQuality }}</button><ul class="idx-player__options-list" ref="qualityDropdown" :class="{ \'active\': showQualityDropdown }" @keydown="handleDropdownKeyNavigation($event, \'quality\')" role="menu" :aria-hidden="!showQualityDropdown"><li v-for="quality in availableQualities" :key="quality.label" role="none"><button @click="setVideoQuality(quality.label)" :class="{ \'active\': currentQuality === quality.label }" role="menuitem" :tabindex="showQualityDropdown ? 0 : -1">{{ quality.label }}</button></li></ul></div><div class="idx-player__control" v-if="enablePlaybackSpeedButton" v-show="!isMobile"><button @click="toggleSpeedDropdown" :aria-expanded="showSpeedDropdown" :aria-label="\'Playback Speed currently\' + playbackSpeed + \'x\'">{{ playbackSpeed }}x</button><ul class="idx-player__options-list" :class="{ \'active\': showSpeedDropdown }" ref="speedDropdown" role="menu" :aria-hidden="!showSpeedDropdown"><li v-for="speed in availableSpeeds" :key="speed" role="none"><button @click="setPlaybackSpeed(speed)" :class="{ active: speed === playbackSpeed }" role="menuitem" :tabindex="showSpeedDropdown ? 0 : -1">{{ speed }}x</button></li></ul></div><div class="idx-player__control" v-if="enableChapters && chapterMarkers.length > 0" v-show="!isMobile"><button @click="toggleChapterDropdown" @keydown.enter.prevent="focusFirstChapterOption" :aria-expanded="showChapterDropdown" aria-label="Chapters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M2.73445 2.96777H3.89574C4.21026 2.96777 4.47639 3.2339 4.47639 3.54842V4.70971C4.47639 5.04842 4.21026 5.29035 3.89574 5.29035H2.73445C2.39574 5.29035 2.15381 5.04842 2.15381 4.70971V3.54842C2.15381 3.2339 2.39574 2.96777 2.73445 2.96777ZM6.41187 3.35487H13.3796C13.7909 3.35487 14.1538 3.71777 14.1538 4.12906C14.1538 4.56455 13.7909 4.90326 13.3796 4.90326H6.41187C5.97639 4.90326 5.63768 4.56455 5.63768 4.12906C5.63768 3.71777 5.97639 3.35487 6.41187 3.35487ZM6.41187 7.22584H13.3796C13.7909 7.22584 14.1538 7.58874 14.1538 8.00003C14.1538 8.43552 13.7909 8.77423 13.3796 8.77423H6.41187C5.97639 8.77423 5.63768 8.43552 5.63768 8.00003C5.63768 7.58874 5.97639 7.22584 6.41187 7.22584ZM6.41187 11.0968H13.3796C13.7909 11.0968 14.1538 11.4597 14.1538 11.871C14.1538 12.3065 13.7909 12.6452 13.3796 12.6452H6.41187C5.97639 12.6452 5.63768 12.3065 5.63768 11.871C5.63768 11.4597 5.97639 11.0968 6.41187 11.0968ZM2.15381 7.41939C2.15381 7.10487 2.39574 6.83874 2.73445 6.83874H3.89574C4.21026 6.83874 4.47639 7.10487 4.47639 7.41939V8.58068C4.47639 8.91939 4.21026 9.16132 3.89574 9.16132H2.73445C2.39574 9.16132 2.15381 8.91939 2.15381 8.58068V7.41939ZM2.73445 10.7097H3.89574C4.21026 10.7097 4.47639 10.9758 4.47639 11.2904V12.4516C4.47639 12.7904 4.21026 13.0323 3.89574 13.0323H2.73445C2.39574 13.0323 2.15381 12.7904 2.15381 12.4516V11.2904C2.15381 10.9758 2.39574 10.7097 2.73445 10.7097Z"/></svg></button><ul class="idx-player__options-list" ref="chapterDropdown" :class="{ \'active\': showChapterDropdown }" role="menu" :aria-hidden="!showChapterDropdown"><li v-for="marker in chapterMarkers" :key="marker.index" role="none"><button @click="jumpToChapter(marker.timestamp, marker.index)" :class="{ \'active\': currentChapterIndex === marker.index }" role="menuitem" :tabindex="showChapterDropdown ? 0 : -1"> {{ marker.title ? marker.title : \'Chapter \' + (marker.index + 1) }}</button></li></ul></div><div class="idx-player__control"><button class="idx-player__share" @click="toggleShareOptions" :aria-expanded="showShareOptions" title="Share" aria-label="Share"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M11.333 2C11.6885 2 12.022 2.08893 12.333 2.2666C12.6441 2.44436 12.8886 2.68894 13.0664 3C13.2442 3.31111 13.333 3.64444 13.333 4C13.333 4.35556 13.2442 4.68889 13.0664 5C12.8886 5.29995 12.6441 5.54453 12.333 5.7334C12.022 5.91107 11.6885 6 11.333 6C10.9776 5.99995 10.644 5.91112 10.333 5.7334C10.2136 5.65822 10.1057 5.57129 10.0039 5.47852L5.97363 7.68164C5.99012 7.78579 6 7.89173 6 8C6 8.10794 5.99002 8.21354 5.97363 8.31738L9.99609 10.5166C10.0995 10.4226 10.2114 10.3387 10.333 10.2666C10.644 10.0889 10.9776 10.0001 11.333 10C11.6885 10 12.022 10.0889 12.333 10.2666C12.6441 10.4444 12.8886 10.6889 13.0664 11C13.2442 11.3111 13.333 11.6444 13.333 12C13.333 12.3556 13.2442 12.6889 13.0664 13C12.8886 13.2999 12.6441 13.5445 12.333 13.7334C12.022 13.9111 11.6885 14 11.333 14C10.9776 13.9999 10.644 13.9111 10.333 13.7334C10.0331 13.5445 9.78846 13.2999 9.59961 13C9.4219 12.6889 9.33301 12.3555 9.33301 12C9.33301 11.8918 9.34194 11.7857 9.3584 11.6816L5.33691 9.48242C5.23477 9.57445 5.12298 9.65873 5 9.7334C4.6889 9.91117 4.35555 10 4 10C3.64446 10 3.3111 9.91117 3 9.7334C2.7 9.54451 2.45549 9.3 2.2666 9C2.08883 8.6889 2 8.35554 2 8C2 7.64445 2.08883 7.3111 2.2666 7C2.45549 6.68889 2.7 6.44438 3 6.2666C3.3111 6.08883 3.64446 6 4 6C4.35555 6 4.6889 6.08883 5 6.2666C5.12488 6.33796 5.2384 6.42083 5.3418 6.51367L9.3584 4.31738C9.34204 4.21361 9.33301 4.10787 9.33301 4C9.33301 3.64451 9.4219 3.31106 9.59961 3C9.78845 2.68896 10.0331 2.44437 10.333 2.2666C10.644 2.08888 10.9776 2.00005 11.333 2Z"/></svg></button><ul class="idx-player__options-list" ref="shareDropdown" :class="{ \'active\': showShareOptions }" @keydown="handleDropdownKeyNavigation($event, \'share\')" role="menu" :aria-hidden="!showShareOptions"><li v-for="platform in socialPlatforms" :key="platform.name" role="none"><button @click="shareVideo(platform.name)" @keydown.enter.prevent="shareVideo(platform.name)" role="menuitem" :tabindex="showShareOptions ? 0 : -1" :aria-label="\'Share on \' + platform.name"><span v-html="platform.svg"></span></button></li><li role="none"><button @click="shareVideo(\'CopyLink\')" role="menuitem" :tabindex="showShareOptions ? 0 : -1" aria-label="Copy Video Link"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 15.425C17.7667 15.175 17.5917 14.9917 17.475 14.875C17.3583 14.7583 17.2417 14.6417 17.125 14.525C17.0083 14.4083 16.825 14.2333 16.575 14L18.65 11.95C19.1 11.5 19.4333 11 19.65 10.45C19.8833 9.9 20 9.3 20 8.65C20 7.76667 19.8 6.975 19.4 6.275C19 5.55833 18.4417 5 17.725 4.6C17.025 4.2 16.2333 4 15.35 4C14.7 4 14.1 4.11667 13.55 4.35C13 4.56667 12.5 4.9 12.05 5.35L10 7.425C9.76667 7.175 9.59167 6.99167 9.475 6.875C9.35833 6.75833 9.24167 6.64167 9.125 6.525C9.00833 6.40833 8.825 6.23333 8.575 6L10.65 3.95C11.2667 3.31667 11.9833 2.83333 12.8 2.5C13.6167 2.16667 14.4667 2 15.35 2C16.55 2 17.6583 2.3 18.675 2.9C19.7083 3.48333 20.5167 4.29167 21.1 5.325C21.7 6.34167 22 7.45 22 8.65C22 9.53333 21.8333 10.3833 21.5 11.2C21.1667 12.0167 20.6833 12.7333 20.05 13.35L18 15.425ZM8.65 22C7.45 22 6.34167 21.7 5.325 21.1C4.30833 20.5 3.5 19.6917 2.9 18.675C2.3 17.6583 2 16.55 2 15.35C2 14.4667 2.16667 13.6167 2.5 12.8C2.85 11.9833 3.33333 11.2667 3.95 10.65L6 8.575C6.25 8.80833 6.43333 8.98333 6.55 9.1C6.66667 9.21667 6.78333 9.33333 6.9 9.45C7.01667 9.56667 7.19167 9.75 7.425 10L5.35 12.05C4.9 12.5 4.55833 13 4.325 13.55C4.10833 14.0833 4 14.6833 4 15.35C4 16.2333 4.2 17.0333 4.6 17.75C5 18.45 5.55 19 6.25 19.4C6.96667 19.8 7.76667 20 8.65 20C9.31667 20 9.91667 19.8917 10.45 19.675C11 19.4417 11.5 19.1 11.95 18.65L14 16.575C14.25 16.8083 14.4333 16.9833 14.55 17.1C14.6667 17.2167 14.7833 17.3333 14.9 17.45C15.0167 17.5667 15.1917 17.75 15.425 18L13.35 20.05C12.7333 20.6667 12.0167 21.15 11.2 21.5C10.3833 21.8333 9.53333 22 8.65 22ZM9 16.425C8.76667 16.175 8.59167 15.9917 8.475 15.875C8.35833 15.7583 8.24167 15.6417 8.125 15.525C8.00833 15.4083 7.825 15.2333 7.575 15L15 7.575C15.25 7.80833 15.4333 7.98333 15.55 8.1C15.6667 8.21667 15.7833 8.33333 15.9 8.45C16.0167 8.56667 16.1917 8.75 16.425 9L9 16.425Z"/></svg></button></li></ul></div><div class="idx-player__control" v-if="enableCaptionButton && vttFile"><button class="idx-player__caption-toggle" @click="toggleCC" aria-label="Toggle Captions"><svg v-if="!showCaptions" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M1.3501 4.24208C1.3501 3.4261 2.00288 2.75 2.84218 2.75H13.2867C14.1027 2.75 14.7788 3.4261 14.7788 4.24208V11.7025C14.7788 12.5418 14.1027 13.1946 13.2867 13.1946H2.84218C2.00288 13.1946 1.3501 12.5418 1.3501 11.7025V4.24208ZM6.01284 6.85322C6.33924 6.85322 6.64232 7.01641 6.82883 7.22624C7.03865 7.45937 7.38836 7.48269 7.62149 7.27286C7.85463 7.08635 7.87794 6.71333 7.66812 6.4802C7.27179 6.03724 6.66563 5.73416 6.01284 5.73416C4.77722 5.73416 3.77473 6.73665 3.77473 7.97228C3.77473 9.20792 4.77722 10.2104 6.01284 10.2104C6.66563 10.2104 7.27179 9.93061 7.66812 9.46436C7.87794 9.25454 7.85463 8.88152 7.62149 8.69497C7.38836 8.48515 7.03865 8.5085 6.82883 8.71832C6.64232 8.95148 6.33924 9.09134 6.01284 9.09134C5.38337 9.09134 4.89379 8.60173 4.89379 7.97228C4.89379 7.36612 5.38337 6.85322 6.01284 6.85322ZM9.37006 7.97228C9.37006 7.36612 9.85959 6.85322 10.489 6.85322C10.8154 6.85322 11.1186 7.01641 11.305 7.22624C11.5149 7.45937 11.8646 7.48269 12.0977 7.27286C12.3309 7.08635 12.3542 6.71333 12.1443 6.4802C11.748 6.03724 11.1418 5.73416 10.489 5.73416C9.25347 5.73416 8.25093 6.73665 8.25093 7.97228C8.25093 9.20792 9.25347 10.2104 10.489 10.2104C11.1418 10.2104 11.748 9.93061 12.1443 9.46436C12.3542 9.25454 12.3309 8.88152 12.0977 8.69497C11.8646 8.48515 11.5149 8.5085 11.305 8.71832C11.1186 8.95148 10.8154 9.09134 10.489 9.09134C9.85959 9.09134 9.37006 8.60173 9.37006 7.97228Z"/></svg><svg v-if="showCaptions" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M1.25 4.24208C1.25 3.4261 1.90278 2.75 2.74208 2.75H13.1866C14.0026 2.75 14.6787 3.4261 14.6787 4.24208V11.7025C14.6787 12.5418 14.0026 13.1946 13.1866 13.1946H2.74208C1.90278 13.1946 1.25 12.5418 1.25 11.7025V4.24208ZM5.91275 6.85322C6.23914 6.85322 6.54222 7.01641 6.72873 7.22624C6.93855 7.45937 7.28826 7.48269 7.52139 7.27286C7.75453 7.08635 7.77785 6.71333 7.56802 6.4802C7.17169 6.03724 6.56553 5.73416 5.91275 5.73416C4.67712 5.73416 3.67463 6.73665 3.67463 7.97228C3.67463 9.20792 4.67712 10.2104 5.91275 10.2104C6.56553 10.2104 7.17169 9.93061 7.56802 9.46436C7.77785 9.25454 7.75453 8.88152 7.52139 8.69497C7.28826 8.48515 6.93855 8.5085 6.72873 8.71832C6.54222 8.95148 6.23914 9.09134 5.91275 9.09134C5.28328 9.09134 4.79369 8.60173 4.79369 7.97228C4.79369 7.36612 5.28328 6.85322 5.91275 6.85322ZM9.26996 7.97228C9.26996 7.36612 9.75949 6.85322 10.389 6.85322C10.7154 6.85322 11.0185 7.01641 11.205 7.22624C11.4148 7.45937 11.7645 7.48269 11.9976 7.27286C12.2308 7.08635 12.2541 6.71333 12.0442 6.4802C11.6479 6.03724 11.0418 5.73416 10.389 5.73416C9.15338 5.73416 8.15083 6.73665 8.15083 7.97228C8.15083 9.20792 9.15338 10.2104 10.389 10.2104C11.0418 10.2104 11.6479 9.93061 12.0442 9.46436C12.2541 9.25454 12.2308 8.88152 11.9976 8.69497C11.7645 8.48515 11.4148 8.5085 11.205 8.71832C11.0185 8.95148 10.7154 9.09134 10.389 9.09134C9.75949 9.09134 9.26996 8.60173 9.26996 7.97228Z"/><rect x="1.25" y="14" width="13.43" height="1"/></svg></button></div><div class="idx-player__control" v-if="enableFullscreenButton"><button class="idx-player__fullscreen-toggle" @click="toggleFullScreen" title="Fullscreen" aria-label="Toggle Fullscreen" :aria-expanded="isFullScreen"><svg v-if="!isFullScreen" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M2.1582 8.8584C2.38042 8.74728 2.60297 8.74728 2.8252 8.8584C3.0473 8.96953 3.1582 9.15823 3.1582 9.4248V11.958L6.02539 9.09082C6.21413 8.90226 6.42509 8.8472 6.6582 8.9248C6.90264 9.00256 7.06383 9.15832 7.1416 9.3916C7.21922 9.61364 7.15866 9.82458 6.95898 10.0244L4.0918 12.8916H6.625C6.89159 12.8916 7.08028 13.0025 7.19141 13.2246C7.30252 13.4468 7.30252 13.6694 7.19141 13.8916C7.08026 14.1135 6.89148 14.2246 6.625 14.2246H2.50879C2.3088 14.2246 2.14211 14.1632 2.00879 14.041C1.88657 13.9077 1.8252 13.741 1.8252 13.541V9.4248C1.8252 9.15834 1.93627 8.96955 2.1582 8.8584ZM13.1416 2.22461C13.3416 2.22461 13.5028 2.29147 13.625 2.4248C13.7584 2.54703 13.8252 2.7082 13.8252 2.9082V7.00781C13.8252 7.2854 13.7141 7.47967 13.4922 7.59082C13.27 7.69082 13.0474 7.69082 12.8252 7.59082C12.6031 7.47969 12.4922 7.28551 12.4922 7.00781V4.49121L9.625 7.3584C9.43627 7.54695 9.2198 7.60201 8.97559 7.52441C8.74223 7.44664 8.58655 7.29644 8.50879 7.07422C8.43113 6.84111 8.49173 6.62464 8.69141 6.4248L11.5586 3.55762H9.04199C8.7643 3.55762 8.57012 3.44672 8.45898 3.22461C8.35898 3.00239 8.35898 2.77983 8.45898 2.55762C8.57014 2.33568 8.76441 2.22461 9.04199 2.22461H13.1416Z"/></svg><svg v-if="isFullScreen" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M6.78299 8.77025C6.97931 8.77025 7.13762 8.83668 7.25759 8.96751C7.38818 9.08739 7.4538 9.24515 7.45388 9.44114V13.4665C7.45379 13.7389 7.34468 13.9298 7.12674 14.0388C6.90867 14.1369 6.6905 14.1369 6.47244 14.0388C6.25439 13.9298 6.14538 13.739 6.14529 13.4665V10.9949L3.33084 13.8093C3.14548 13.9947 2.93299 14.0497 2.69314 13.9734C2.46424 13.8971 2.31154 13.7499 2.23513 13.532C2.15879 13.303 2.2185 13.0896 2.41482 12.8933L5.22927 10.0798H2.75857C2.48594 10.0798 2.29441 9.97075 2.18533 9.75267C2.08724 9.53475 2.08739 9.31636 2.18533 9.09837C2.2944 8.88021 2.4859 8.77025 2.75857 8.77025H6.78299ZM9.08963 2.19407C9.30774 2.08503 9.52589 2.08507 9.74392 2.19407C9.96198 2.30309 10.071 2.48816 10.0711 2.74974V5.23704L12.8855 2.42259C13.0709 2.23734 13.2786 2.18318 13.5076 2.2595C13.7473 2.3359 13.9049 2.48861 13.9812 2.71751C14.0575 2.93558 13.9977 3.14234 13.8015 3.3386L10.9871 6.15306H13.4744C13.7362 6.15306 13.922 6.26207 14.031 6.48021C14.14 6.69822 14.14 6.91648 14.031 7.1345C13.922 7.35264 13.7362 7.46165 13.4744 7.46165H9.43338C9.23706 7.46165 9.07307 7.40194 8.94216 7.28196C8.82229 7.15111 8.76248 6.98698 8.76248 6.79075V2.74974C8.76258 2.48826 8.87173 2.30311 9.08963 2.19407Z"/></svg></button></div></div></div></div></div>'});n.mount(i),this.instances[e.id]=n}),this.handlePlayerActions()},getInstance(e){const t=this.instances[e];return t},handlePlayerActions(){document.addEventListener("click",e=>{const t=e.target.closest("[data-player][data-action]");if(!t)return;const i=t.getAttribute("data-player"),s=t.getAttribute("data-action"),o=document.querySelector(i);if(!o)return;const r=o.querySelector("video");if(r)try{switch(s){case"play":r.play();o.querySelectorAll("[data-controls], .controls, .idx-player__controls-wrapper").forEach(e=>{e.style.visibility="visible",e.style.opacity="1",e.style.transform="translateY(0)"});break;case"pause":r.pause();o.querySelectorAll("[data-controls], .controls, .idx-player__controls-wrapper").forEach(e=>{e.style.visibility="visible",e.style.opacity="1",e.style.transform="translateY(0)"});break;case"stop":r.pause(),r.currentTime=0;o.querySelectorAll("[data-controls], .controls, .idx-player__controls-wrapper").forEach(e=>{e.style.visibility="visible",e.style.opacity="1",e.style.transform="translateY(0)"});break;case"fullscreen":if(document.fullscreenElement)document.exitFullscreen();else{const e=i?document.querySelector(i):null;e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen())}}}catch(e){}})},playAll(e){document.querySelectorAll(e).forEach(e=>{const t=e.querySelector("video"),i=e.querySelector(".controls");t&&(t.play(),i&&(i.style.opacity="1",i.style.transform="translateY(0%)"))})},pauseAll(e){document.querySelectorAll(e).forEach(e=>{const t=e.querySelector("video"),i=e.querySelector(".controls");t&&(t.pause(),i&&(i.style.opacity="1",i.style.transform="translateY(0%)"))})},stopAll(e){document.querySelectorAll(e).forEach(e=>{const t=e.querySelector("video"),i=e.querySelector(".controls"),s=e.querySelector(".loader"),o=e.querySelector(".playpausebtn i");if(t){t.pause(),t.currentTime=0;t.getAttribute("poster")&&t.readyState>0&&t.networkState!==HTMLMediaElement.NETWORK_NO_SOURCE&&t.load(),o&&(o.className="idx-player-icon-play"),i&&(i.style.opacity="1",i.style.transform="translateY(0%)"),s&&(s.style.display="none")}})}},HTMLElement.prototype.play=function(){const e=VideoPlayers.getInstance(this.id);if(e){const t=e.$refs?.video||document.getElementById(this.id)?.querySelector("video");if(t&&(t.paused||t.ended)){t.play();const i=document.getElementById(this.id);if(i){const e=i.querySelectorAll("[data-controls], .controls, .idx-player__controls-wrapper");setTimeout(()=>{e.forEach(e=>{e.style.visibility="visible",e.style.opacity="1",e.style.transform="translateY(100%)"})},3e3)}e.isPlaying=!0}}},HTMLElement.prototype.pause=function(){const e=VideoPlayers.getInstance(this.id);if(e){const t=e.$refs?.video||document.getElementById(this.id)?.querySelector("video");if(t&&!t.paused){t.pause(),e.isPlaying=!1;const i=document.getElementById(this.id);if(i){i.querySelectorAll("[data-controls], .controls, .idx-player__controls-wrapper").forEach(e=>{e.style.visibility="visible",e.style.opacity="1",e.style.transform="translateY(0%)"})}}}},HTMLElement.prototype.stop=function(){const e=VideoPlayers.getInstance(this.id);if(e){const t=e.$refs?.video||document.getElementById(this.id)?.querySelector("video");if(t){t.pause(),t.currentTime=0,e.isPlaying=!1,e.seekValue=0,e.currentTime=0;const i=0;e.$refs?.playedProgress&&(e.$refs.playedProgress.style.width=`${i}%`);const s=0;e.$refs?.bufferBar&&(e.$refs.bufferBar.style.width=`${s}%`),e.$refs?.videoPlay&&(e.$refs.videoPlay.value=0);const o=document.getElementById(this.id);if(o){o.querySelectorAll("[data-controls], .controls, .idx-player__controls-wrapper").forEach(e=>{e.style.visibility="visible",e.style.opacity="1",e.style.transform="translateY(0%)"})}}}},HTMLElement.prototype.fullscreen=function(){const e=VideoPlayers.getInstance(this.id);if(e){const t=e.$refs?.video||document.getElementById(this.id)?.querySelector("video"),i=t?.closest(`[id="${this.id}"]`);if(t&&i){/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?t.webkitEnterFullscreen&&t.webkitEnterFullscreen():document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.msRequestFullscreen&&i.msRequestFullscreen()}}};